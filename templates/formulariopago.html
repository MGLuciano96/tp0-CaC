<!DOCTYPE html>
<html lang="es">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Pago</title>
    <link rel="shortcut icon" href="../imagenes/1.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/index.css">
</head>

<body>
    <header class="seccion-arriba">
        <h1 class="titulo">¡Bienvenido a Nuestra Tienda de Tecnología!</h1>
        <nav class="header">
            <form action="css/" method="GET" class="form1">
                <input type="text" name="q" placeholder="¿Qué estás buscando hoy?" class="form1_buscador">
                <input type="submit" value="Buscar" class="form1_buscar">
            </form>
            <div id="botonera">
                <button class="precioymenu">
                    <a href="../index.html">Inicio</a>
                </button>
                <button class="precioymenu">
                    <a href="productos.html">Productos</a>
                </button>
                <button class="precioymenu">
                    <a href="nuestro-local.html">Nuestro Local</a>
                </button>
                <button class="precioymenu">
                    <a href="contacto.html">Servicio Técnico</a>
                </button>
            </div>
        </nav>
    </header>
<!-- Botón para abrir el carrito -->
<button id="open-cart">Abrir Carrito</button>

<!-- Contenedor del carrito (inicialmente oculto) -->
<div id="cart-container" class="cart-container">
    <!-- Imagen en blanco para que puedas agregar tu propia imagen (va en el fondo, cambiar el icono del boton) -->
    <img src="image/cart.ico" alt="Carrito de Compras">

    <!-- Lista de productos (se mostrará cuando haya productos) -->
    <div class="product-list">
        <ul id="product-list"></ul>
    </div>

    <!-- Resumen de la compra -->
    <div class="cart-summary">
        <h2>Resumen de la Compra</h2>
        <p id="subtotal">Subtotal: $0.00</p>
        <p id="total">Total: $0.00</p>
    </div>

    <!-- Botón para vaciar el carrito -->
    <button id="clear-cart">Vaciar Carrito</button>
    <button id="close-cart">Cerrar Carrito</button>

    <!-- Nuevo botón "Terminar Compra" -->
    <button id="checkout">Terminar Compra</button>
</div>
    <h1>Formulario de Pago</h1>

        <h2>Resumen de la Compra</h2>
        <ul id="product-list"></ul>
        <p id="total">Total: $0.00</p>

        <button type="submit" id="open-success-popup">Pagar</button>
        <div class="page-wrapper">
            <div class="custom-modal success-popup">
                <div class="succes succes-animation icon-top"><i class="fa fa-check"></i></div>
                <div class="succes border-bottom"></div>
                <div class="content">
                    <p class="type">Compra realizada</p>
                    <p class="message-type">!Su compra ha sido realizada satisfactoriamente!</p>
                </div>
            </div>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const productListElement = document.getElementById('product-list');
            const totalElement = document.getElementById('total');

            const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            const total = localStorage.getItem('total') || '0.00';

            cartItems.forEach(item => {
                const listItem = document.createElement('li');
                listItem.textContent = `${item.nombre} - Cantidad: ${item.quantity} - Subtotal: $${(item.precio * item.quantity).toFixed(2)}`;
                productListElement.appendChild(listItem);
            });

            totalElement.textContent = `Total: $${total}`;
        });
    </script>
    <div id="main-container">
        <div id="card-container">
            <div id="card">
                <div id="front">
                    <div class="reflection"></div>
                    <div class="type">PLATINUM</div>
                    <div class="title-text">American Express</div>
                    <div class="detalles">
                        <div class="form-control">
                            <input type="value" id="nmbtj" required="">
                            <label>
                                <span style="transition-delay:0ms">N</span><span style="transition-delay:50ms">o</span><span style="transition-delay:100ms">m</span><span style="transition-delay:150ms">b</span><span style="transition-delay:200ms">r</span><span style="transition-delay:250ms">e</span>
                            </label>
                        </div>
                        <div class="form-control">
                        <input type="value" id="hidden-number" required="">
                        <label>
                            <span style="transition-delay:0ms">N</span><span style="transition-delay:50ms">u</span><span style="transition-delay:100ms">m</span><span style="transition-delay:150ms">e</span><span style="transition-delay:200ms">r</span><span style="transition-delay:250ms">o</span>
                        </label>
                        </div>
                    </div>
                    <button id="show-btn">Ver Detalles de Tarjeta</button>
                    <div class="logo">MasterCard</div>
                </div>
                <div id="back">
                    <div class="reflection"></div>
                    <div id="chip">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="title-text">American Express</div>
                    <div class="detalles">
                        <div class="name" id="mostrar-nombre"></div>
                        <div id="mostrar-numero"></div>
                        <span id="cvv">CVV: 402</span>
                        <span id="valid-date">Expira: 07/29</span>
                    </div>
                    <button id="hide-btn">Ocultar Detalles de Tarjeta</button>
                    <div class="logo">MasterCard</div>
                </div>
            </div>
        </div>
    </div>

    <script src="../script.js"></script>
</body>
</html>

